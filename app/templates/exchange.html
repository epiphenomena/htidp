{% extends "base.html" %}

{% block title %}HTIDP Exchange{% endblock %}

{% block header %}HTIDP Contact Exchange{% endblock %}

{% block content %}
{% if unsolicited %}
<div class="warning">
    <p><strong>Notice:</strong> This is an unsolicited connection request. Please review carefully before accepting.</p>
</div>
{% endif %}

<p>Please provide your information to exchange contact details.</p>

<form method="post" action="/exchange/{{ token }}">
    <div>
        <label for="name">Your Name/Nickname:</label>
        <input type="text" id="name" name="name" required>
    </div>
    <div>
        <label for="msg">Your Message (optional, max 240 characters):</label>
        <textarea id="msg" name="msg" maxlength="240" rows="3"></textarea>
    </div>
    <div>
        <label for="perma_url">Your Permanent URL (HTTPS):</label>
        <input type="url" id="perma_url" name="perma_url" required>
    </div>
    <div>
        <label for="public_key">Your Public Key:</label>
        <textarea id="public_key" name="public_key" required rows="4"></textarea>
    </div>
    <div>
        <label for="callback_url">Callback URL (where to send response):</label>
        <input type="url" id="callback_url" name="callback_url" required>
    </div>
    <input type="hidden" name="token" value="{{ token }}">
    <button type="submit">Exchange Contact Information</button>
</form>
{% endblock %}